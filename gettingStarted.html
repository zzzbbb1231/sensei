---
layout: default
title: SenseiBA - Getting Started, Part One
name: getting-started
---
<div class="hero-unit">
	<h2>Getting Started</h2>
	<p>
		The 1,2,3 of getting rockin&apos; with SenseiBA!
	</p>
</div>

<h2>Getting Sensei</h2>
<p>
   Download a release of SenseiBA at <a href="https://www.box.com/s/tejg15td9ltcr0tzoexs" target="_blank">here</a>.
</p>
<p>
   Expand the tar ball: <code>tar -zxf sensei-ba--xxx.tar.tz</code> to your favorite location. We will refer to root directory of your SenseiBA install as <code>$SENSEIBA_HOME</code>.
</p>

<h2>Running the Standalone example</h2>
<p>
	SenseiBA comes with a few examples to help you getting started. Let&apos;s first take a look at the <code>Standalone example</code>, and get that running.
</p>

<div class="row">
	<div class="span6">
		<h3>Step 1: Start Zookeeper</h3>
		<p>
		Zookeeper manages Sensei&apos;s network topology or cluster.
		</p>
	</div>
	<div class="span10">
		<p>
		Start your Zookeeper instance: (You can start your own Zookeeper cluster by following instructions <a href="http://zookeeper.apache.org/doc/trunk/zookeeperStarted.html">here</a>), From <code>$SENSEIBA_HOME</code>
		<pre><code>./bin/zookeeper-server-start.sh \ <br/>resources/zookeeper.properties</code></pre>
		</p>
		<p>
			You can shut it down by running:
			<pre><code>./bin/zookeeper-server-stop.sh</code></pre>
		</p>
	</div>
</div>

<div class="row">
	<div class="span6">
		<h3>Step 2: Start Sensei Node</h3>
		<p>
		 With Zookeeper running, we can start a Sensei node serving  SenseiBA node listening on port 8080:
		</p>
	</div>
	<div class="span10">
		<p>
		In <code>$SENSEIBA_HOME</code>, start your SenseiBA node by pointing to the <a href="https://github.com/sensei-ba/sensei/blob/master/sensei-ba/config-example/src/main/resources/config-standalone" target="_blank">Standalone example configuration directory</a>:
		<pre><code>./bin/start-sensei-node.sh examples/config-standalone</code></pre>
		</p>
		
	</div>
</div>
<div class="row">
	<div class="span6">
		<h3>Step 3: Getting the data</h3>
		<p>
		 SenseiBA now monitors the /tmp/ba-index-standalone directory. We can put any csv, json, avro files to that location and Sensei would automatically index data from those files.
		</p>
                <p>
		 Let's download the part of the awesome air dataset available at  <a href="http://stat-computing.org/dataexpo/2009/" target="_blank">Data expo</a>:
		</p> 
	</div>
	<div class="span10">
		<p>
		<pre><code>wget http://stat-computing.org/dataexpo/2009/1987.csv.bz2</code></pre>
		</p>
		<p>
                And unzip it
                 </p><p> 
		<pre><code>bunzip2 1987.csv.bz2</code></pre>
		</p>
                <p>Now let's copy the <code>1987.csv</code> to the directory monitored by the SenseiBA </p> 
                <p> 
		<pre><code>
cp 1987.csv /tmp/ba-index-standalone</code></pre>
		</p> 
                 <p>It would take approximately 3 minutes for SenseiBA to index the csv file. We can monitor the $SENSEIBA_HOME/logs/sensei-main.log for the entry: </p>
                 <p><pre><code>2013/01/02 16:00:10.298 INFO [DirectoryBasedFactoryManager] [] Created the new segment - 1987_csv, in the directory /tmp/ba-index-standalone/exploded/1987_csv, the source is /tmp/ba-index-standalone/1987.csv
2013/01/02 16:00:10.298 INFO [DirectoryBasedFactoryManager] [] the new segment - 1987_csv contains 1311826 elements
<code></pre><p>
	</div>
</div>
<div class="row">
	<div class="span6">
		<h3>Step 4: Run the queries</h3>
		<p>
		 Go to  <a href="http://localhost:8080" target="_blank">http://localhost:8080</a> . Let's run a query
		</p>
               </div>
	<div class="span10">
               <p> 
		<pre><code>select sum(ArrDelay), count(*) where UniqueCarrier = 'PS' and ArrDelay <> 0 group by Dest
select avg(ArrDelay)  group by Dest,Origin, UniqueCarrier top 10
select distinctCount(UniqueCarrier) </code></pre>
		</p> 
                 <p>
		 SenseiBA can be queried by using either json
		</p>
                <p>
		 <a href="http://senseidb.github.com/sensei/client-rest.html" target="_blank">http://senseidb.github.com/sensei/client-rest.html</a> or bql api <a href="http://senseidb.github.com/sensei/bql.html" target="_blank">http://senseidb.github.com/sensei/bql.html</a>
		</p> 
	</div>
	
</div>

<hr/>
<h2>Using the Web-console</h2>
<p>
 Sensei comes with a <a href="console-app.html">web-console</a> (written using Sensei&apos;s Javascript API) to help you interact with your Sensei cluster.
</p>
<p>
  Simply point your favorite browser to: <a href="http://localhost:8080">http://localhost:8080</a>
</p>

<h2>Shutting down the Sensei node</h2>
<p>
	In $SENSEIBA_HOME, do:
	<pre><code>./bin/kill.sh</code></pre>
</p>
<hr/>

<h2>Screenshot</h2>
<p>
	See the following screenshot of the standalone example:
</p>
<p>
<img src="images/webconsole-screenshot.png" width="90%" />
</p>
<h2>Next example</h2>
<p>
  If you think this is cool, move on to the <a class="btn primary" href="gettingStarted2.html">Hadoop Example &raquo;</a>
</p>
